import colorama
from requests import get
from colorama import Fore, Back
import os

colorama.init(autoreset=True)

cyan = Fore.CYAN
green = Fore.GREEN
red = Fore.RED
yellow = Fore.YELLOW

def ReverseIP():
    host = input(Back.BLACK + Fore.CYAN + "Enter host >> ")
    lookup = 'https://api.hackertarget.com/reverseiplookup/?q=%s' % host

    # Create the "reports" directory if it doesn't exist
    os.makedirs("reports", exist_ok=True)

    report_path = os.path.join("reports", "reverse_ip_report.txt")

    try:
        result = get(lookup).text
        print(cyan + "[+]" + result)

        with open(report_path, "w") as report_file:
            report_file.write(result)
            print(green + f"[+] Reverse IP report saved to: {report_path}")

    except:
        print(red + 'Invalid IP address')


if __name__ == "__main__":
    ReverseIP()
