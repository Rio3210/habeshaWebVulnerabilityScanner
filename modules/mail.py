import os
import requests
import re
import colorama
from colorama import Fore, Back, Style

colorama.init(autoreset=True)
def mail():
    url = input(Fore.GREEN+"Enter the URL: ")
    report = input(Fore.GREEN+"Enter the file name for the report: ")
    report = os.path.join("reports", report)  
    rep = open(report, "w")
    rep.close()
    istek = requests.get(url, verify=False)
    content = istek.content.decode("utf-8")  # Decode the bytes-like object to string
    regxx = re.findall(r'[\w.-]+@[\w.-]+\.\w+', content)  # Apply regular expression on the decoded string

    if regxx:
        for i in regxx:
            print(Fore.GREEN+"[+]E-mail: ", i)
            with open(report, "a") as rapor:
                raporIcerik = "[+]E-mail: " + i + "\n"
                rapor.write(raporIcerik)
    else:
        print(Fore.RED+"[-]No email found")
        with open(report, "a") as rapor:
            raporIcerik = "[-]No email found\n"
            rapor.write(raporIcerik)

if __name__ == "__main__":
    mail()
